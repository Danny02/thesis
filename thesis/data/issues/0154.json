{
  "url": "https://api.github.com/repos/olafurpg/scalafmt/issues/154",
  "repository_url": "https://api.github.com/repos/olafurpg/scalafmt",
  "labels_url": "https://api.github.com/repos/olafurpg/scalafmt/issues/154/labels{/name}",
  "comments_url": "https://api.github.com/repos/olafurpg/scalafmt/issues/154/comments",
  "events_url": "https://api.github.com/repos/olafurpg/scalafmt/issues/154/events",
  "html_url": "https://github.com/olafurpg/scalafmt/issues/154",
  "id": 148079795,
  "number": 154,
  "title": "Regression test for formatting changes",
  "user": {
    "login": "olafurpg",
    "id": 1408093,
    "avatar_url": "https://avatars.githubusercontent.com/u/1408093?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/olafurpg",
    "html_url": "https://github.com/olafurpg",
    "followers_url": "https://api.github.com/users/olafurpg/followers",
    "following_url": "https://api.github.com/users/olafurpg/following{/other_user}",
    "gists_url": "https://api.github.com/users/olafurpg/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/olafurpg/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/olafurpg/subscriptions",
    "organizations_url": "https://api.github.com/users/olafurpg/orgs",
    "repos_url": "https://api.github.com/users/olafurpg/repos",
    "events_url": "https://api.github.com/users/olafurpg/events{/privacy}",
    "received_events_url": "https://api.github.com/users/olafurpg/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "milestone": null,
  "comments": [
    {
      "url": "https://api.github.com/repos/olafurpg/scalafmt/issues/comments/209503005",
      "html_url": "https://github.com/olafurpg/scalafmt/issues/154#issuecomment-209503005",
      "issue_url": "https://api.github.com/repos/olafurpg/scalafmt/issues/154",
      "id": 209503005,
      "user": {
        "login": "fommil",
        "id": 1914041,
        "avatar_url": "https://avatars.githubusercontent.com/u/1914041?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fommil",
        "html_url": "https://github.com/fommil",
        "followers_url": "https://api.github.com/users/fommil/followers",
        "following_url": "https://api.github.com/users/fommil/following{/other_user}",
        "gists_url": "https://api.github.com/users/fommil/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fommil/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fommil/subscriptions",
        "organizations_url": "https://api.github.com/users/fommil/orgs",
        "repos_url": "https://api.github.com/users/fommil/repos",
        "events_url": "https://api.github.com/users/fommil/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fommil/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-04-13 15:16:20 UTC",
      "updated_at": "2016-04-13 15:16:20 UTC",
      "body": "I recommend using sbt's scripted for this. I have some examples, e.g. ensime-sbt or sbt-big-project. The former actually has a git subtree of ensime-server in it and no reason you couldn't do that for akka/spark/etc (it makes your repo a lot larger though)"
    },
    {
      "url": "https://api.github.com/repos/olafurpg/scalafmt/issues/comments/209522084",
      "html_url": "https://github.com/olafurpg/scalafmt/issues/154#issuecomment-209522084",
      "issue_url": "https://api.github.com/repos/olafurpg/scalafmt/issues/154",
      "id": 209522084,
      "user": {
        "login": "olafurpg",
        "id": 1408093,
        "avatar_url": "https://avatars.githubusercontent.com/u/1408093?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/olafurpg",
        "html_url": "https://github.com/olafurpg",
        "followers_url": "https://api.github.com/users/olafurpg/followers",
        "following_url": "https://api.github.com/users/olafurpg/following{/other_user}",
        "gists_url": "https://api.github.com/users/olafurpg/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/olafurpg/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/olafurpg/subscriptions",
        "organizations_url": "https://api.github.com/users/olafurpg/orgs",
        "repos_url": "https://api.github.com/users/olafurpg/repos",
        "events_url": "https://api.github.com/users/olafurpg/events{/privacy}",
        "received_events_url": "https://api.github.com/users/olafurpg/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-04-13 15:55:36 UTC",
      "updated_at": "2016-04-13 15:55:36 UTC",
      "body": "I hadn't heard of sbt scripted, sounds like a perfect fit for our needs.\r\n\r\n> no reason you couldn't do that for akka/spark/etc (it makes your repo a lot larger though)\r\n\r\nI think it's unnecessary to add so many sub-repos. Instead, we can\r\n\r\n* have a single separate github repo, which uses the scalafmt sbt plugin and contains a snapshot of all scala files in akka/spark/intellij/..., making sure to include appropriate licences\r\n* the repo's master branch would always be formatted to the latest approved/stable release of scalafmt, adding appropriate tags at each new release.\r\n* the regression test clones that repo and runs the `scalafmtTest` sbt task from within the project, which exits with an exception in case of mis-formatted code."
    },
    {
      "url": "https://api.github.com/repos/olafurpg/scalafmt/issues/comments/209528126",
      "html_url": "https://github.com/olafurpg/scalafmt/issues/154#issuecomment-209528126",
      "issue_url": "https://api.github.com/repos/olafurpg/scalafmt/issues/154",
      "id": 209528126,
      "user": {
        "login": "fommil",
        "id": 1914041,
        "avatar_url": "https://avatars.githubusercontent.com/u/1914041?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fommil",
        "html_url": "https://github.com/fommil",
        "followers_url": "https://api.github.com/users/fommil/followers",
        "following_url": "https://api.github.com/users/fommil/following{/other_user}",
        "gists_url": "https://api.github.com/users/fommil/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fommil/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fommil/subscriptions",
        "organizations_url": "https://api.github.com/users/fommil/orgs",
        "repos_url": "https://api.github.com/users/fommil/repos",
        "events_url": "https://api.github.com/users/fommil/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fommil/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-04-13 16:15:33 UTC",
      "updated_at": "2016-04-13 16:15:33 UTC",
      "body": "please add ensime-server to the list of projects to test, we use scalariform"
    },
    {
      "url": "https://api.github.com/repos/olafurpg/scalafmt/issues/comments/219100057",
      "html_url": "https://github.com/olafurpg/scalafmt/issues/154#issuecomment-219100057",
      "issue_url": "https://api.github.com/repos/olafurpg/scalafmt/issues/154",
      "id": 219100057,
      "user": {
        "login": "olafurpg",
        "id": 1408093,
        "avatar_url": "https://avatars.githubusercontent.com/u/1408093?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/olafurpg",
        "html_url": "https://github.com/olafurpg",
        "followers_url": "https://api.github.com/users/olafurpg/followers",
        "following_url": "https://api.github.com/users/olafurpg/following{/other_user}",
        "gists_url": "https://api.github.com/users/olafurpg/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/olafurpg/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/olafurpg/subscriptions",
        "organizations_url": "https://api.github.com/users/olafurpg/orgs",
        "repos_url": "https://api.github.com/users/olafurpg/repos",
        "events_url": "https://api.github.com/users/olafurpg/events{/privacy}",
        "received_events_url": "https://api.github.com/users/olafurpg/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-05-13 16:58:00 UTC",
      "updated_at": "2016-05-13 16:58:14 UTC",
      "body": "Here's a WIP repository to see diffs between scalafmt releases: https://github.com/olafurpg/scala-repos/compare/0.2.3...0.2.4?expand=1\r\n\r\nI haven't added ensime-server yet. The repo is probably too big at the moment, the diff alone is almost ~5mb. However, it only took ~2 minutes to format 3.2 million LOC ðŸ˜„ \r\n\r\n"
    },
    {
      "url": "https://api.github.com/repos/olafurpg/scalafmt/issues/comments/219103404",
      "html_url": "https://github.com/olafurpg/scalafmt/issues/154#issuecomment-219103404",
      "issue_url": "https://api.github.com/repos/olafurpg/scalafmt/issues/154",
      "id": 219103404,
      "user": {
        "login": "fommil",
        "id": 1914041,
        "avatar_url": "https://avatars.githubusercontent.com/u/1914041?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/fommil",
        "html_url": "https://github.com/fommil",
        "followers_url": "https://api.github.com/users/fommil/followers",
        "following_url": "https://api.github.com/users/fommil/following{/other_user}",
        "gists_url": "https://api.github.com/users/fommil/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/fommil/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/fommil/subscriptions",
        "organizations_url": "https://api.github.com/users/fommil/orgs",
        "repos_url": "https://api.github.com/users/fommil/repos",
        "events_url": "https://api.github.com/users/fommil/events{/privacy}",
        "received_events_url": "https://api.github.com/users/fommil/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-05-13 17:11:49 UTC",
      "updated_at": "2016-05-13 17:11:49 UTC",
      "body": "cool! Really keen on this. If it works for something as big as akka, then we're golden."
    },
    {
      "url": "https://api.github.com/repos/olafurpg/scalafmt/issues/comments/219256535",
      "html_url": "https://github.com/olafurpg/scalafmt/issues/154#issuecomment-219256535",
      "issue_url": "https://api.github.com/repos/olafurpg/scalafmt/issues/154",
      "id": 219256535,
      "user": {
        "login": "olafurpg",
        "id": 1408093,
        "avatar_url": "https://avatars.githubusercontent.com/u/1408093?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/olafurpg",
        "html_url": "https://github.com/olafurpg",
        "followers_url": "https://api.github.com/users/olafurpg/followers",
        "following_url": "https://api.github.com/users/olafurpg/following{/other_user}",
        "gists_url": "https://api.github.com/users/olafurpg/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/olafurpg/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/olafurpg/subscriptions",
        "organizations_url": "https://api.github.com/users/olafurpg/orgs",
        "repos_url": "https://api.github.com/users/olafurpg/repos",
        "events_url": "https://api.github.com/users/olafurpg/events{/privacy}",
        "received_events_url": "https://api.github.com/users/olafurpg/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-05-14 23:06:41 UTC",
      "updated_at": "2016-05-14 23:06:41 UTC",
      "body": "I will never release again. Seeing so many bugs in the diff I have to fix first!\r\n\r\nMore seriously, though, this is great. I'm sold on publishing a diff for each release to show users what they can expect."
    }
  ],
  "created_at": "2016-04-13 14:30:58 UTC",
  "updated_at": "2016-05-14 23:06:41 UTC",
  "closed_at": null,
  "body": "Great suggestion from @fommil on gitter:\r\n\r\n> A regression test on these same projects [ 10k source files from Scala.js, Akka, Spark and a few more projects] using the sbt plugin would be great. Run the formatter, generate a diff, assert there are no changes\r\nCommit the changes that you feel are acceptable (i.e. bugs in scalariform)\r\nSo they are white listed\r\n\r\nI'm already manually doing this for scalafmt."
}