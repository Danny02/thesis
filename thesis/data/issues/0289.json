{
  "url": "https://api.github.com/repos/olafurpg/scalafmt/issues/289",
  "repository_url": "https://api.github.com/repos/olafurpg/scalafmt",
  "labels_url": "https://api.github.com/repos/olafurpg/scalafmt/issues/289/labels{/name}",
  "comments_url": "https://api.github.com/repos/olafurpg/scalafmt/issues/289/comments",
  "events_url": "https://api.github.com/repos/olafurpg/scalafmt/issues/289/events",
  "html_url": "https://github.com/olafurpg/scalafmt/issues/289",
  "id": 156927821,
  "number": 289,
  "title": "=;Term.Arg false positives",
  "user": {
    "login": "Checkroth",
    "id": 1385951,
    "avatar_url": "https://avatars.githubusercontent.com/u/1385951?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/Checkroth",
    "html_url": "https://github.com/Checkroth",
    "followers_url": "https://api.github.com/users/Checkroth/followers",
    "following_url": "https://api.github.com/users/Checkroth/following{/other_user}",
    "gists_url": "https://api.github.com/users/Checkroth/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/Checkroth/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/Checkroth/subscriptions",
    "organizations_url": "https://api.github.com/users/Checkroth/orgs",
    "repos_url": "https://api.github.com/users/Checkroth/repos",
    "events_url": "https://api.github.com/users/Checkroth/events{/privacy}",
    "received_events_url": "https://api.github.com/users/Checkroth/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [
    {
      "url": "https://api.github.com/repos/olafurpg/scalafmt/labels/alignment",
      "name": "alignment",
      "color": "0052cc"
    },
    {
      "url": "https://api.github.com/repos/olafurpg/scalafmt/labels/help%20wanted",
      "name": "help wanted",
      "color": "159818"
    }
  ],
  "state": "open",
  "locked": false,
  "assignee": null,
  "milestone": null,
  "comments": [
    {
      "url": "https://api.github.com/repos/olafurpg/scalafmt/issues/comments/221859535",
      "html_url": "https://github.com/olafurpg/scalafmt/issues/289#issuecomment-221859535",
      "issue_url": "https://api.github.com/repos/olafurpg/scalafmt/issues/289",
      "id": 221859535,
      "user": {
        "login": "olafurpg",
        "id": 1408093,
        "avatar_url": "https://avatars.githubusercontent.com/u/1408093?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/olafurpg",
        "html_url": "https://github.com/olafurpg",
        "followers_url": "https://api.github.com/users/olafurpg/followers",
        "following_url": "https://api.github.com/users/olafurpg/following{/other_user}",
        "gists_url": "https://api.github.com/users/olafurpg/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/olafurpg/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/olafurpg/subscriptions",
        "organizations_url": "https://api.github.com/users/olafurpg/orgs",
        "repos_url": "https://api.github.com/users/olafurpg/repos",
        "events_url": "https://api.github.com/users/olafurpg/events{/privacy}",
        "received_events_url": "https://api.github.com/users/olafurpg/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-05-26 12:41:07 UTC",
      "updated_at": "2016-05-27 07:39:08 UTC",
      "body": "You can enable this with `--alignTokens \"=;Term.Arg\"`. Unfortunately, you will need to explicitly enumerate all tokens you want to align by since `--alignTokens` overrides the default configuration. The reason this is disabled in `defaultWithAlign` is because you can get false positives\r\n\r\n```scala\r\n$ cat 289.scala\r\nobject a {\r\n  GmsSummary(\r\n       ts = Option(genFunc),\r\n        t = Option(genFunc),\r\n        p = Option(genFunc),\r\n        m = Option(genFunc),\r\n        s = Option(genFunc),\r\n        tb = Option(genFunc)\r\n  )\r\n  // false positive\r\n  foo(a = 2)\r\n  foobar(b = 2)\r\n}\r\n$ scalafmt --alignTokens \"=;Term.Arg\" -f 289.scala\r\nobject a {\r\n  GmsSummary(\r\n      ts       = Option(genFunc),\r\n      t        = Option(genFunc),\r\n      p        = Option(genFunc),\r\n      m        = Option(genFunc),\r\n      s        = Option(genFunc),\r\n      tb       = Option(genFunc)\r\n  )\r\n  // false positive\r\n  foo(a    = 2)\r\n  foobar(b = 2)\r\n}\r\n```"
    },
    {
      "url": "https://api.github.com/repos/olafurpg/scalafmt/issues/comments/222049272",
      "html_url": "https://github.com/olafurpg/scalafmt/issues/289#issuecomment-222049272",
      "issue_url": "https://api.github.com/repos/olafurpg/scalafmt/issues/289",
      "id": 222049272,
      "user": {
        "login": "Checkroth",
        "id": 1385951,
        "avatar_url": "https://avatars.githubusercontent.com/u/1385951?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Checkroth",
        "html_url": "https://github.com/Checkroth",
        "followers_url": "https://api.github.com/users/Checkroth/followers",
        "following_url": "https://api.github.com/users/Checkroth/following{/other_user}",
        "gists_url": "https://api.github.com/users/Checkroth/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Checkroth/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Checkroth/subscriptions",
        "organizations_url": "https://api.github.com/users/Checkroth/orgs",
        "repos_url": "https://api.github.com/users/Checkroth/repos",
        "events_url": "https://api.github.com/users/Checkroth/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Checkroth/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-05-27 03:01:08 UTC",
      "updated_at": "2016-05-27 03:01:08 UTC",
      "body": "I see, thank you for explaining this.\r\n\r\nAre there any plans to work on restricting token alignment for arguments to tokens only found within the same argument list?"
    },
    {
      "url": "https://api.github.com/repos/olafurpg/scalafmt/issues/comments/222077999",
      "html_url": "https://github.com/olafurpg/scalafmt/issues/289#issuecomment-222077999",
      "issue_url": "https://api.github.com/repos/olafurpg/scalafmt/issues/289",
      "id": 222077999,
      "user": {
        "login": "olafurpg",
        "id": 1408093,
        "avatar_url": "https://avatars.githubusercontent.com/u/1408093?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/olafurpg",
        "html_url": "https://github.com/olafurpg",
        "followers_url": "https://api.github.com/users/olafurpg/followers",
        "following_url": "https://api.github.com/users/olafurpg/following{/other_user}",
        "gists_url": "https://api.github.com/users/olafurpg/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/olafurpg/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/olafurpg/subscriptions",
        "organizations_url": "https://api.github.com/users/olafurpg/orgs",
        "repos_url": "https://api.github.com/users/olafurpg/repos",
        "events_url": "https://api.github.com/users/olafurpg/events{/privacy}",
        "received_events_url": "https://api.github.com/users/olafurpg/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-05-27 07:21:39 UTC",
      "updated_at": "2016-05-27 07:24:42 UTC",
      "body": "There is a plan to make the vertical alignment configuration more powerful, see #172. This issue should definitely be considered when designing that api. I don't like the idea of special casing `=;Term.Arg`, I believe it would be better to make it configurable how rows align with each other.\r\n\r\nThe method that needs to change is [`columnsMatch`](https://github.com/olafurpg/scalafmt/blob/cb663557e207f04f8b164ca86eb2af119c6f6ca3/core/src/main/scala/org/scalafmt/internal/FormatWriter.scala#L168). I've added the help wanted label since I don't use vertical alignment myself. I'm happy to review the design/PR if you want to take a stab at it.\r\n\r\nFWIW. You are not the first one to express interest in aligning the `=` in named arguments, I believe many users would like to have this feature."
    }
  ],
  "created_at": "2016-05-26 08:10:19 UTC",
  "updated_at": "2016-05-27 07:39:08 UTC",
  "closed_at": null,
  "body": "Original:\r\n```scala\r\n    Summary(\r\n      ts       = Option(genFunc),\r\n      t        = Option(genFunc),\r\n      p        = Option(genFunc),\r\n      m        = Option(genFunc),\r\n      s        = Option(genFunc),\r\n      tb       = Option(genFunc)\r\n```\r\n\r\nScalafmt:\r\n```scala\r\nSummary( \r\n       ts = Option(genFunc),\r\n        t = Option(genFunc),\r\n        p = Option(genFunc),\r\n        m = Option(genFunc),\r\n        s = Option(genFunc),\r\n        tb = Option(genFunc)\r\n)\r\n```\r\n\r\nToken alignment falls apart for multiline parameters. From the above, running scalafmt will reset the spacing of any parameter assignment.\r\nIt seems that token alignment shouldn't matter whether or not it is for parameters or not, so I was hoping that scalafmt would produce this kind of output:\r\n\r\n```scala\r\n    Summary(\r\n      ts       = Option(genFunc),\r\n      t        = Option(genFunc),\r\n      p        = Option(genFunc),\r\n      m        = Option(genFunc),\r\n      s        = Option(genFunc),\r\n      t        = Option(genFunc)\r\n)\r\n```\r\n\r\nUsing:\r\n* 0.2.5\r\n* --style defaultWithAlign\r\n"
}