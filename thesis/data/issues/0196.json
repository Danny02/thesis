{
  "url": "https://api.github.com/repos/olafurpg/scalafmt/issues/196",
  "repository_url": "https://api.github.com/repos/olafurpg/scalafmt",
  "labels_url": "https://api.github.com/repos/olafurpg/scalafmt/issues/196/labels{/name}",
  "comments_url": "https://api.github.com/repos/olafurpg/scalafmt/issues/196/comments",
  "events_url": "https://api.github.com/repos/olafurpg/scalafmt/issues/196/events",
  "html_url": "https://github.com/olafurpg/scalafmt/issues/196",
  "id": 151850650,
  "number": 196,
  "title": "Case alignment can overflow the column limit",
  "user": {
    "login": "densh",
    "id": 320966,
    "avatar_url": "https://avatars.githubusercontent.com/u/320966?v=3",
    "gravatar_id": "",
    "url": "https://api.github.com/users/densh",
    "html_url": "https://github.com/densh",
    "followers_url": "https://api.github.com/users/densh/followers",
    "following_url": "https://api.github.com/users/densh/following{/other_user}",
    "gists_url": "https://api.github.com/users/densh/gists{/gist_id}",
    "starred_url": "https://api.github.com/users/densh/starred{/owner}{/repo}",
    "subscriptions_url": "https://api.github.com/users/densh/subscriptions",
    "organizations_url": "https://api.github.com/users/densh/orgs",
    "repos_url": "https://api.github.com/users/densh/repos",
    "events_url": "https://api.github.com/users/densh/events{/privacy}",
    "received_events_url": "https://api.github.com/users/densh/received_events",
    "type": "User",
    "site_admin": false
  },
  "labels": [

  ],
  "state": "closed",
  "locked": false,
  "assignee": null,
  "milestone": null,
  "comments": [
    {
      "url": "https://api.github.com/repos/olafurpg/scalafmt/issues/comments/215695276",
      "html_url": "https://github.com/olafurpg/scalafmt/issues/196#issuecomment-215695276",
      "issue_url": "https://api.github.com/repos/olafurpg/scalafmt/issues/196",
      "id": 215695276,
      "user": {
        "login": "olafurpg",
        "id": 1408093,
        "avatar_url": "https://avatars.githubusercontent.com/u/1408093?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/olafurpg",
        "html_url": "https://github.com/olafurpg",
        "followers_url": "https://api.github.com/users/olafurpg/followers",
        "following_url": "https://api.github.com/users/olafurpg/following{/other_user}",
        "gists_url": "https://api.github.com/users/olafurpg/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/olafurpg/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/olafurpg/subscriptions",
        "organizations_url": "https://api.github.com/users/olafurpg/orgs",
        "repos_url": "https://api.github.com/users/olafurpg/repos",
        "events_url": "https://api.github.com/users/olafurpg/events{/privacy}",
        "received_events_url": "https://api.github.com/users/olafurpg/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-04-29 12:11:30 UTC",
      "updated_at": "2016-04-29 12:11:30 UTC",
      "body": "What is the expected output? This is working as intended IMO, although I'm happy to reconsider.\r\n\r\nYou can add a blank line after the UnitClass case to create a separate alignment block so it doesn't overflow the limit. I don't think scalafmt should not make that decision on your behalf."
    },
    {
      "url": "https://api.github.com/repos/olafurpg/scalafmt/issues/comments/215703954",
      "html_url": "https://github.com/olafurpg/scalafmt/issues/196#issuecomment-215703954",
      "issue_url": "https://api.github.com/repos/olafurpg/scalafmt/issues/196",
      "id": 215703954,
      "user": {
        "login": "densh",
        "id": 320966,
        "avatar_url": "https://avatars.githubusercontent.com/u/320966?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/densh",
        "html_url": "https://github.com/densh",
        "followers_url": "https://api.github.com/users/densh/followers",
        "following_url": "https://api.github.com/users/densh/following{/other_user}",
        "gists_url": "https://api.github.com/users/densh/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/densh/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/densh/subscriptions",
        "organizations_url": "https://api.github.com/users/densh/orgs",
        "repos_url": "https://api.github.com/users/densh/repos",
        "events_url": "https://api.github.com/users/densh/events{/privacy}",
        "received_events_url": "https://api.github.com/users/densh/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-04-29 12:58:44 UTC",
      "updated_at": "2016-04-29 12:58:44 UTC",
      "body": "My understanding was that the result of the formatter should always fit within maxColumn limit. Here the limit is 80 and the produced formatted code is 90. "
    },
    {
      "url": "https://api.github.com/repos/olafurpg/scalafmt/issues/comments/215710262",
      "html_url": "https://github.com/olafurpg/scalafmt/issues/196#issuecomment-215710262",
      "issue_url": "https://api.github.com/repos/olafurpg/scalafmt/issues/196",
      "id": 215710262,
      "user": {
        "login": "olafurpg",
        "id": 1408093,
        "avatar_url": "https://avatars.githubusercontent.com/u/1408093?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/olafurpg",
        "html_url": "https://github.com/olafurpg",
        "followers_url": "https://api.github.com/users/olafurpg/followers",
        "following_url": "https://api.github.com/users/olafurpg/following{/other_user}",
        "gists_url": "https://api.github.com/users/olafurpg/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/olafurpg/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/olafurpg/subscriptions",
        "organizations_url": "https://api.github.com/users/olafurpg/orgs",
        "repos_url": "https://api.github.com/users/olafurpg/repos",
        "events_url": "https://api.github.com/users/olafurpg/events{/privacy}",
        "received_events_url": "https://api.github.com/users/olafurpg/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-04-29 13:25:58 UTC",
      "updated_at": "2016-04-29 13:25:58 UTC",
      "body": "There are cases where scalafmt will choose not to break the column limit even if it can do so\r\n\r\n```scala\r\n// column              |\r\nfunction(\r\n    a,\r\n    bbbbbb, // This comment exceeds column limit\r\n    cc)\r\n```\r\n\r\nPutting a newline before the comment would make the comment confusing. Likewise, my understanding of defaultWithAlign is that breaking the vertical alignment would negatively affect the readability of the code."
    },
    {
      "url": "https://api.github.com/repos/olafurpg/scalafmt/issues/comments/215718244",
      "html_url": "https://github.com/olafurpg/scalafmt/issues/196#issuecomment-215718244",
      "issue_url": "https://api.github.com/repos/olafurpg/scalafmt/issues/196",
      "id": 215718244,
      "user": {
        "login": "densh",
        "id": 320966,
        "avatar_url": "https://avatars.githubusercontent.com/u/320966?v=3",
        "gravatar_id": "",
        "url": "https://api.github.com/users/densh",
        "html_url": "https://github.com/densh",
        "followers_url": "https://api.github.com/users/densh/followers",
        "following_url": "https://api.github.com/users/densh/following{/other_user}",
        "gists_url": "https://api.github.com/users/densh/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/densh/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/densh/subscriptions",
        "organizations_url": "https://api.github.com/users/densh/orgs",
        "repos_url": "https://api.github.com/users/densh/repos",
        "events_url": "https://api.github.com/users/densh/events{/privacy}",
        "received_events_url": "https://api.github.com/users/densh/received_events",
        "type": "User",
        "site_admin": false
      },
      "created_at": "2016-04-29 13:49:05 UTC",
      "updated_at": "2016-04-29 13:49:05 UTC",
      "body": "I see, sounds reasonable to me."
    }
  ],
  "created_at": "2016-04-29 12:01:48 UTC",
  "updated_at": "2016-04-29 13:49:05 UTC",
  "closed_at": "2016-04-29 13:49:05 UTC",
  "body": "Scalafmt formatted code:\r\n```scala\r\n  def genTypeSym(sym: Symbol,\r\n                 targs: Seq[Type] = Seq(),\r\n                 retty: Boolean = false): nir.Type = sym match {\r\n    case ArrayClass           => genTypeSym(NArrayClass(genPrimCode(targs.head)))\r\n    case UnitClass            => if (retty) nir.Type.Void else genTypeSym(BoxedUnitClass)\r\n    case ObjectClass          => nir.Rt.Object\r\n    case CharClass            => nir.Type.I16\r\n    case BooleanClass         => nir.Type.Bool\r\n    case ByteClass            => nir.Type.I8\r\n    case ShortClass           => nir.Type.I16\r\n    case IntClass             => nir.Type.I32\r\n    case LongClass            => nir.Type.I64\r\n    case FloatClass           => nir.Type.F32\r\n    case DoubleClass          => nir.Type.F64\r\n    case NullClass            => nir.Type.Null\r\n    case NothingClass         => nir.Type.Nothing\r\n    case NPtrClass            => nir.Type.Ptr\r\n    case _ if isModule(sym)   => nir.Type.Module(genClassName(sym))\r\n    case _ if sym.isInterface => nir.Type.Trait(genClassName(sym))\r\n    case _                    => nir.Type.Class(genClassName(sym))\r\n  }\r\n```\r\n\r\nHere we see overflow over 80 column limit in first two cases. \r\n\r\nUsing\r\n* 0.2.2\r\n"
}