\section{Algorithms}\label{sec:algorithms}
This chapter describes how scalafmt formats Scala code.
As we will see, scalafmt's design is inspired by ClangFormat and dartfmt.
However, we believe our design makes a valuable contribution in that it allows great extensibility to accommodate a variety of different coding styles.
\subsection{Data structures}
\subsubsection{FormatToken}
\subsubsection{Split}
\subsubsection{Policy}
\subsubsection{OptimalToken}
\subsubsection{State}
\subsubsection{Indent}
\subsection{BestFirstSearch}
\subsubsection{Router}
\subsection{Optimizations}
\subsubsection{dequeueOnNewStatements}
\subsubsection{recurseOnBlocks}
\subsubsection{escapeInPathologicalCases}
\subsubsection{escapeInPathologicalCases}
\subsubsection{pruneSlowStates}
\subsubsection{FormatWriter}
\begin{itemize}
  \item vertical alignment
  \item comment formatting
  \item stripMargin alignment
\end{itemize}
